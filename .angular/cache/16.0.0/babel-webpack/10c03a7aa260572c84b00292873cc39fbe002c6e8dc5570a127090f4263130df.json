{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../axios.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../buttons/buttons.component\";\nimport * as i4 from \"../login-form/login-form.component\";\nimport * as i5 from \"../welcome-content/welcome-content.component\";\nimport * as i6 from \"../auth-content/auth-content.component\";\nfunction ContentComponent_app_welcome_content_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-welcome-content\");\n  }\n}\nfunction ContentComponent_app_login_form_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-login-form\", 3);\n    i0.ɵɵlistener(\"onSubmitLoginEvent\", function ContentComponent_app_login_form_3_Template_app_login_form_onSubmitLoginEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onLogin($event));\n    })(\"onSubmitRegisterEvent\", function ContentComponent_app_login_form_3_Template_app_login_form_onSubmitRegisterEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onRegister($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContentComponent_app_auth_content_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-auth-content\");\n  }\n}\nlet ContentComponent = /*#__PURE__*/(() => {\n  class ContentComponent {\n    constructor(axiosService) {\n      this.axiosService = axiosService;\n      this.componentToShow = \"welcome\";\n    }\n    showComponent(componentToShow) {\n      this.componentToShow = componentToShow;\n    }\n    onLogin(input) {\n      this.axiosService.request(\"POST\", \"/login\", {\n        login: input.login,\n        password: input.password\n      }).then(response => {\n        this.axiosService.setAuthToken(response.data.token);\n        this.componentToShow = \"messages\";\n      }).catch(error => {\n        this.axiosService.setAuthToken(null);\n        this.componentToShow = \"welcome\";\n      });\n    }\n    onRegister(input) {\n      this.axiosService.request(\"POST\", \"/register\", {\n        firstName: input.firstName,\n        lastName: input.lastName,\n        login: input.login,\n        password: input.password\n      }).then(response => {\n        this.axiosService.setAuthToken(response.data.token);\n        this.componentToShow = \"messages\";\n      }).catch(error => {\n        this.axiosService.setAuthToken(null);\n        this.componentToShow = \"welcome\";\n      });\n    }\n  }\n  ContentComponent.ɵfac = function ContentComponent_Factory(t) {\n    return new (t || ContentComponent)(i0.ɵɵdirectiveInject(i1.AxiosService));\n  };\n  ContentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContentComponent,\n    selectors: [[\"app-content\"]],\n    decls: 5,\n    vars: 3,\n    consts: [[3, \"loginEvent\", \"logoutEvent\"], [4, \"ngIf\"], [3, \"onSubmitLoginEvent\", \"onSubmitRegisterEvent\", 4, \"ngIf\"], [3, \"onSubmitLoginEvent\", \"onSubmitRegisterEvent\"]],\n    template: function ContentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"app-buttons\", 0);\n        i0.ɵɵlistener(\"loginEvent\", function ContentComponent_Template_app_buttons_loginEvent_1_listener() {\n          return ctx.showComponent(\"login\");\n        })(\"logoutEvent\", function ContentComponent_Template_app_buttons_logoutEvent_1_listener() {\n          return ctx.showComponent(\"welcome\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, ContentComponent_app_welcome_content_2_Template, 1, 0, \"app-welcome-content\", 1);\n        i0.ɵɵtemplate(3, ContentComponent_app_login_form_3_Template, 1, 0, \"app-login-form\", 2);\n        i0.ɵɵtemplate(4, ContentComponent_app_auth_content_4_Template, 1, 0, \"app-auth-content\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.componentToShow == \"welcome\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.componentToShow == \"login\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.componentToShow == \"messages\");\n      }\n    },\n    dependencies: [i2.NgIf, i3.ButtonsComponent, i4.LoginFormComponent, i5.WelcomeContentComponent, i6.AuthContentComponent]\n  });\n  return ContentComponent;\n})();\nexport { ContentComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}